\NeedsTeXFormat{LaTeX2e}
\ProvidesPackage{IBExtra}


%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%                      Figuras, tablas y referencias                          %
%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%%
%% % Colocar al principio del documento, para evitar la sobreescritura realizada por el paquete babel
%% \AtBeginDocument{%
%%     \renewcommand{\tablename}{Tabla}
%% %    \renewcommand{\refname}{\vspace{-1.5cm}}
%%     \renewcommand{\tocbibname}{Bibliograf\'ia y referencias}
%% }
%% \renewcommand{\figurename}{Figura}

% Definiciones especiales. Estandariza la referencia a figuras
\newcommand{\fig}[1]{Fig.~\ref{#1}}
\newcommand{\figs}[2]{Figs.~\ref{#1} y \ref{#2}}
\newcommand{\tb}[1]{Tabla~\ref{#1}}
\newcommand{\tabs}[2]{Tablas~\ref{#1} y \ref{#2}}
\newcommand{\eq}[1]{Ec.~(\ref{#1})}
\newcommand{\eqs}[2]{Ecs.~(\ref{#1}) y (\ref{#2})}
\newcommand{\eqto}[2]{Ecs.~(\ref{#1})-(\ref{#2})}
\newcommand{\se}[1]{Secci\'on~\ref{#1}}
\newcommand{\chap}[1]{Cap\'itulo~\ref{#1}}

\newcommand{\red}[1]{\textcolor{red}{#1}}
\newcommand{\sps}[1]{\textsuperscript{#1}}

%% % pdf links
%% %\ifnum \mecomuselinks = 1
%% % Use color links
%% \RequirePackage{color}
%% \definecolor{url}{rgb}{0.8,0.,0.}
%% \RequirePackage[colorlinks,linkcolor=black,%
%%                 urlcolor=url,citecolor=black,%
%%                 plainpages=false,pdfpagelabels]{hyperref}
\RequirePackage{nameref,url}
\def\UrlFont{\mdseries}
%% %\fi


% Separaci\'on entre filas y columnas
\renewcommand{\arraystretch}{1.3}
\setlength{\tabcolsep}{5mm}

% Espesor de l\'ineas (del paquete booktabs)
\setlength{\heavyrulewidth}{1.5pt}


% Variables mas usadas
\newcommand{\feq}[1]{\bm{#1}^{eq}}
\newcommand{\ce}[2]{$#1^{(#2)}$}
\newcommand{\bce}[2]{$\bm{#1}^{(#2)}$}
\newcommand{\bc}[2]{\bm{#1}^{(#2)}}
\newcommand{\nce}[2]{n_{#1}^{(#2)}}
\newcommand{\nces}[2]{n_{#1}^{(#2)*}}
\newcommand{\bxi}{$\bm{\xi}$}
\newcommand{\fvar}{$f(\bm{x},\bm{\xi},t)$}
\newcommand{\feqvar}{$f^{eq}(\bm{x},\bm{\xi},t)$}
\newcommand{\ea}{\bm{e}_{\alpha}}
\newcommand{\xplus}{\bm{x} + \bm{e}_{\alpha}\delta_t}

% Derivadas convectivas
\newcommand{\dcm}{ \left( \dfrac{\partial}{\partial t}\bm{I} + \hat{\bm{E}}_{\beta} \bm{\nabla}_{\beta} \right) }
\newcommand{\dcmuno}{ \left( \dfrac{\partial}{\partial t_1}\bm{I} + \hat{\bm{E}}_{\beta} \bm{\nabla}_{\beta 1} \right) }

% Acronimos que pueden cambiar
\newcommand{\lbe}{LBE}
\newcommand{\lbm}{LBM}
\newcommand{\pp}{pseudopotencial}
\newcommand{\pps}{pseudopotenciales}
\newcommand{\fdp}{PDF}
\newcommand{\edf}{EDF}
\newcommand{\eos}{EOS}


% Opciones para tikz

\RequirePackage{tikz}
\usetikzlibrary{shapes,arrows}

\tikzstyle{decision} = [diamond, draw, fill=blue!20, 
    text width=4.5em, text badly centered, node distance=3cm, inner sep=0pt]
\tikzstyle{block} = [rectangle, draw, fill=blue!20, 
    text width=7em, text centered, rounded corners, minimum height=4em]
\tikzstyle{line} = [draw, -latex']
\tikzstyle{cloud} = [draw, ellipse,fill=red!20, node distance=3cm,
    minimum height=2em]
    
  
% Opciones para forest (dibujos de arboles de carpetas)  

\RequirePackage{forest}

\definecolor{folderbg}{RGB}{124,166,198}
\definecolor{folderborder}{RGB}{110,144,169}
  
\def\Size{4pt}
\tikzset{
     	 folder/.pic={
        	\filldraw[draw=folderborder,top color=folderbg!50,bottom color=folderbg]
        	  (-1.05*\Size,0.2\Size+5pt) rectangle ++(.75*\Size,-0.2\Size-5pt);  
        	\filldraw[draw=folderborder,top color=folderbg!50,bottom color=folderbg]
        	  (-1.15*\Size,-\Size) rectangle (1.15*\Size,\Size);
    	  }	
	    }  
  
    
    
% Paquete listings
\RequirePackage{listings}
\RequirePackage{xcolor}

\definecolor{codegreen}{rgb}{0,0.6,0}
\definecolor{codegray}{rgb}{0.5,0.5,0.5}
\definecolor{codepurple}{rgb}{0.58,0,0.82}
\definecolor{backcolour}{rgb}{0.95,0.95,0.92}

\lstdefinestyle{mystyle}{
    backgroundcolor=\color{backcolour},   
    commentstyle=\color{codegreen},
    keywordstyle=\color{magenta},
    numberstyle=\tiny\color{codegray},
    stringstyle=\color{codepurple},
    basicstyle=\ttfamily\footnotesize,
    breakatwhitespace=false,         
    breaklines=true,                 
    captionpos=b,                    
    keepspaces=true,                 
    numbers=left,                    
    numbersep=5pt,                  
    showspaces=false,                
    showstringspaces=false,
    showtabs=false,                  
    tabsize=2
}

\lstset{style=mystyle}

    
    
% Omite stretch vertical
\raggedbottom

\hyphenation{in-te-rac-ci\'on}